<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Weekly View</title>
    <style>
      /* define styles for the calendar */
      table {
        border-collapse: collapse;
        width: 100%;
      }
      th, td {
        border: 1px solid #ddd;
        text-align: center;
        padding: 10px;
      }
      th {
        background-color: #f2f2f2;
      }
      .first-third {
        background-color: #b2ffb2;
      }
      .second-third {
        background-color: #ffffb2;
      }
      .last-third {
        background-color: #ffb2b2;
      }
    </style>
  </head>
  <body>
    <?php
      // get the current week number
      $week_num = date("W");
      // get the current year
      $year_num = date("Y");
      // set the start date of the week
      $start_date = date("Y-m-d", strtotime("{$year_num}-W{$week_num}-1"));
      // set the end date of the week
      $end_date = date("Y-m-d", strtotime("{$year_num}-W{$week_num}-7"));
      // create an array of days for the week
      $days = array();
      $current_date = $start_date;
      while ($current_date <= $end_date) {
        $days[] = $current_date;
        $current_date = date("Y-m-d", strtotime($current_date . "+1 day"));
      }
    ?>
    <h1>Weekly View</h1>
    <table>
      <tr>
        <th>Day</th>
        <th>Daily Test</th>
        <th>Weekly Test 1</th>
        <th>Weekly Test 2</th>
        <th>Weekly Test 3</th>
      </tr>
      <?php foreach ($days as $day): ?>
      <tr>
        <td><?php echo date("D, j M", strtotime($day)); ?></td>
        <td class="<?php echo ($day <= date("Y-m-d")) ? "first-third" : ""; ?>"></td>
        <td class="<?php echo ($day <= date("Y-m-d")) ? "first-third" : ""; ?>"></td>
        <td class="<?php echo ($day <= date("Y-m-d")) ? "first-third" : ""; ?>"></td>
        <td class="<?php echo ($day <= date("Y-m-d")) ? "first-third" : ""; ?>"></td>
      </tr>
      <?php endforeach; ?>
    </table>
  </body>
</html>
